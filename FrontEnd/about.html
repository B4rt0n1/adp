<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About - GoEdu</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
<header class="site-header">
  <div class="container">
    <a href="/" class="logo">GoEdu</a>
    <nav class="main-nav" id="mainNav">
      <a href="/">Home</a>
      <a href="/handbooks">Handbooks</a>
      <a id="authInvise"></a>
      <a href="/about">About</a>
      <a href="/registration" id="authSlot">Register</a>
    </nav>
  </div>
</header>

    <main class="content-wrapper">
        <article class="main-content">
            <section id="about-mission">
                <h2>Our Mission</h2>
                <p>
                    GoEdu is dedicated to providing high-quality, accessible resources for developers 
                    looking to master the Go programming language. We believe in the power of 
                    simplicity and efficiencyâ€”the same core values that drive the Go ecosystem.
                </p>
            </section>

            <section id="about-team">
                <h2>The Team</h2>
                <p>
                    This project was developed by a group of passionate developers committed to 
                    improving the open-source learning experience:
                </p>
                <ul style="margin: 15px 0 0 20px; color: #333;">
                    <li><strong>Saken Akhmediyar</strong> - Lead Developer</li>
                    <li><strong>Aron Davlyudov</strong> - UI/UX Designer</li>
                    <li><strong>Aslan Aldashev</strong> - Content Strategist</li>
                </ul>
            </section>

            <section id="about-project">
                <h2>Why Go?</h2>
                <p>
                    In today's cloud-native world, performance and scalability are non-negotiable. 
                    Go provides the speed of C++ with the readability of Python, making it the 
                    perfect choice for modern backend engineering.
                </p>
            </section>
        </article>
    </main>

    <footer class="site-footer">
        <p>Saken Akhmediyar, Aron Davlyudov, Aslan Aldashev</p>
    </footer>

<script>
async function updateNavbar() {
  const authSlot = document.getElementById("authSlot");
  if (!authSlot) return;

  let res;
  try {
    res = await fetch("/api/me", { credentials: "same-origin" });
  } catch (e) {
    console.error("Auth check failed", e);
    return;
  }

  if (res.ok) {
    const user = await res.json();

    authSlot.outerHTML = `
      <a href="#" id="logoutLink">Logout</a>
    `;

    authInvise.outerHTML = `<a href="/go">Go</a>`;

    document.getElementById("logoutLink")
      .addEventListener("click", async (e) => {
        e.preventDefault();
        await fetch("/api/logout", {
          method: "POST",
          credentials: "same-origin"
        });
        window.location.href = "/login";
      });

  } else {
    authSlot.outerHTML = `
      <a href="/registration">Register</a>
    `;
    authInvise.outerHTML = ``;
  }
}

updateNavbar();
</script>
</body>
</html>